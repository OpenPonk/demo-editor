This is a controller for TPT Diagram.